functions:
  generate_binary:
    type: generator
    globalCode: |
      from random import randbytes, randrange
      counter = 0
    code: |
      global counter
      key = f"sensor{counter}"
      counter = (counter + 1) % 10
      # Generate random bytes
      value = list(randbytes(randrange(100, 1000)))
      return (key, value)
    resultType: (string, bytes)

producers:
  binary_producer:
    generator: generate_binary
    interval: 3s
    to:
      topic: my_topic
      keyType: string
      valueType: bytes
